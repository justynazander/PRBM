%% jza
%To start the demo:
% paste the powerwindow.zip to matlabroot,'toolbox','simulink','simdemos','automotive','powerwindow','powerwindow.zip
% 1. Run slexPowerWindowStart on the command line to create a tempdir and
% paste Simulink Project there
% 2. Then: 
CV = 1; 

% 3. Run /utilities/ functions 
% 4. Run the model: slexPowerWindowExample.slx from /models/



%After getting the demo from Stacey: 
%slexPowerWindowExample/window_system the ports 2 and 3 are reversed. It should be 2 for 'force'
%Next thing I changed is something in the properties. I already forgot where exactly or it navigated me there...  Mux block ... from 'none' to 'error' as this was the Simulink messenger advice.

%% jza 2

% Now, let us explore the function that is not documented at all 
%[projectFolder, ~] = Simulink.ModelManagement.Project.projectDemoSetUp(fullfile(matlabroot,'toolbox','simulink','simdemos','automotive','powerwindow','powerwindow.zip'),[], true, 'gendemo' );
%simulinkproject(projectFolder);

% creating a temp folder 
[projectFolder, ~] = Simulink.ModelManagement.Project.projectDemoSetUp(fullfile(matlabroot,'toolbox','simulink','simdemos','automotive','powerwindow','powerwindow.zip'),[], true, 'gendemo' )
% opens up this newly created project 
simulinkproject(projectFolder)

% My experiments: 

WORKFLOW: 

User clicks on: 
1. Share a model --> Make a Simulink project of my model before you push. 
2. Share a model --> Push only a model.
3. Share a model --> Push the entire folder in which model is included.

% This below creates a project 
[projectFolder, ~] = Simulink.ModelManagement.Project.projectDemoSetUp(fullfile(matlabroot,'toolbox','simulink','simdemos',...
'collaboration','GitHubDemo.zip'),[], true, 'gendemo')
simulinkproject(projectFolder)

% Now: projectFolder, e.g., C:\Users\Justyna\AppData\Local\Temp\20131030T193347\GitHubDemo is your local repository folder, 
% initialize it with git and then push to GitHub 

BUT ACTUALLY WHAT IS REQUIRED IS: 
1. Create a SL project programatically for the current folder in current working directory; 
2. and append the contents of the folder where you have your model as Project Files. 
3. Zip it all 
4. Then follow the WORKFLOW specified above with some modifications. 

n. Unpack the repository to your Simulink to a new folder: 
[projectFolder, ~] = Simulink.ModelManagement.Project.projectDemoSetUp(fullfile(matlabroot,'a new folder',...
    'CreatedRepository.zip'),[], true, 'gendemo')
m. Open the project: 
simulinkproject(projectFolder)








